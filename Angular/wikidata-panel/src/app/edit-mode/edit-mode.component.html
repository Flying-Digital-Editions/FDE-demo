<div class="row">
  <h1>Here's your FDE!</h1>
  <div class="col-md-auto bookMode">
    <div>
      <ng-container *ngFor="let fragment of textFragments">
        <span *ngIf="fragment.type === 'text'">{{ fragment.text }}</span>
        <span *ngIf="fragment.type === 'span'">
          <span class="mySpan" (click)="handleSpanClick(fragment.data)">{{ fragment.text }}</span>
        </span>
      </ng-container>
      <div class="col-md-auto" *ngIf="loading === true">
        <p-progressSpinner></p-progressSpinner>
      </div>
    </div>
    <button *ngIf="!spansSaved" (click)="saveText()">Save Spans</button>
    <div *ngIf="spansSaved">
      <p>Spans have been saved!</p>
      <!-- You can add a button here to trigger the navigation to the visualization component -->
    </div>
  </div>
  <div class="col-md-auto" #spanContainer></div>  
</div>
